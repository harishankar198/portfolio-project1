"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[90818],{205841:(e,t,s)=>{s.d(t,{qE:()=>r,u_:()=>l.ZP,FN:()=>h.ZP});var i=s(883119),o=s(785893);let a=(e,t)=>!!(e?.includes("images/user/default")&&t);function n({accessibilityLabel:e,name:t,outline:s,size:n,src:r,verified:l}){return(0,o.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:s,size:n,src:a(r,t)?void 0:r,verified:l})}n.displayName="Avatar";let r=n;var l=s(930837),h=s(454514)},307772:(e,t,s)=>{function i(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{Z3:()=>d,LU:()=>u,ZP:()=>m});let o=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,a={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},n={},r={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${n[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[a.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[a.exit]:r,[a.stopped]:r,[a.paused]:r,[a.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class h{constructor(e){i(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),i(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),i(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),i(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,s=Date.now();e.intersectionRatio>0&&!this.visibleEvents.has(1)&&this.visibleEvents.set(1,s),e.intersectionRatio>.5?this.visibleEvents.has(50)||this.visibleEvents.set(50,s):this.visibleEvents.has(50)&&!this.hiddenEvents.has(50)&&this.hiddenEvents.set(50,s),e.intersectionRatio>.8?this.visibleEvents.has(80)||this.visibleEvents.set(80,s):this.visibleEvents.has(80)&&!this.hiddenEvents.has(80)&&this.hiddenEvents.set(80,s),1!==e.intersectionRatio||this.visibleEvents.has(2)||this.visibleEvents.set(2,s),e.boundingClientRect.top<=143&&this.visibleEvents.has(1)&&!this.hiddenEvents.has(1)&&this.hiddenEvents.set(1,s),e.boundingClientRect.bottom<=143&&this.visibleEvents.has(2)&&!this.hiddenEvents.has(2)&&this.hiddenEvents.set(2,s),t&&!this.inViewport?(this.startTime=s,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(a.enter,{startTime:s,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(a.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.visibleEvents=new Map,this.hiddenEvents=new Map,this.pinCellWidth=0,this.pinCellHeight=0}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,o&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this._debug(a.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(a.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(a.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,hiddenEvents:this.hiddenEvents,visibleEvents:this.visibleEvents,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(o)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case a.flushed:case a.paused:case a.exit:n[this.debugId]=!0}}}function c(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let d=!0,u=!1;class m{constructor(){c(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),c(this,"_handleMutations",(e,t)=>{let s=this.mutationObservers.get(t);s&&s.offsetHeight<1&&s&&this.stop(s,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=u,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let s=this.activeImpressions.get(e);s&&(s.stop(t),this.mutationObservers.delete(s.mutationObserver),s.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new h(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=d){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==u||(this.pausePriority=e))}resume(e=d){(e!==u||this.pausePriority!==d)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=u)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:s}=t.getBoundingClientRect();return s>e?s:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:s}=t.getBoundingClientRect();return s<e?s:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let s={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,s),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,s)=>{s.d(t,{Z:()=>i});let i=new(s(307772)).ZP},486587:(e,t,s)=>{s.d(t,{Z:()=>a});var i=s(169346),o=s(624797);function a(e,t,s=""){if(!(t&&t.search))return"";let{message:n}=(0,o.mB)(t.search),r=(0,o.mB)(t.search).username||s,l="true"===(0,o.mB)(t.search).multiple_accounts;return(0,i.Z)({i18n:e,message:n,multipleAccounts:l,username:r})}},169346:(e,t,s)=>{s.d(t,{Z:()=>l});var i=s(883119),o=s(339001),a=s(739670),n=s(785893);function r(e,t,s){return(0,n.jsx)(i.xv,{align:s||"center",children:(0,o.nk)(e,{username:(0,n.jsx)(i.xv,{inline:!0,weight:"bold",children:t})})})}function l({i18n:e,message:t,multipleAccounts:s,username:i=""}){switch(t){case a.R:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case a.j2:if(s)return r(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),i);return r(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case a.Di:return r(s?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case a.aU:return r(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case a.pN:return r(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");default:return""}}},194602:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(667294);let o=()=>()=>{},a=()=>!1,n=()=>!0,r=()=>(0,i.useSyncExternalStore)(o,a,n)},490166:(e,t,s)=>{s.d(t,{Z:()=>a});var i=s(883119),o=s(785893);function a({children:e,onMouseEnter:t,onMouseLeave:s,onTouch:a,rounding:n,fullWidth:r=!1,pressState:l="none",accessibilityLabel:h,role:c,dataTestId:d}){let u=(Array.isArray(l)?l:[l]).includes("compress");return(0,o.jsx)(i.iP,{accessibilityLabel:h,dataTestId:d,fullWidth:r,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:s&&(({event:e})=>s(e)),onTap:a&&(({event:e})=>a(e)),role:c,rounding:n,tapStyle:u?"compress":"none",children:e})}},19447:(e,t,s)=>{s.d(t,{AF:()=>r,H0:()=>l,S6:()=>h,_S:()=>c});var i=s(545007),o=s(342513),a=s(785893);let{Provider:n,useHook:r,useMaybeHook:l}=(0,o.Z)("Pins");function h(){let e=r();return t=>e[t]}function c({children:e}){let t=(0,i.v9)(({pins:e})=>e,i.wU);return(0,a.jsx)(n,{value:t,children:e})}},386008:(e,t,s)=>{s.d(t,{Tt:()=>d,cm:()=>c,kW:()=>l,kY:()=>u,mN:()=>h});var i=s(545007),o=s(342513),a=s(149722),n=s(785893);let{Provider:r,useHook:l}=(0,o.Z)("Users");function h(){let e=l();return t=>e[t]}function c(){let e=l();return(t,s=!1)=>{let i=Object.keys(e).find(s=>e[s].username===t);if(i||!s)return e[i??""]}}function d(){let{id:e}=(0,a.Z)();return l()[e??""]}function u({children:e}){let t=(0,i.v9)(({users:e})=>e,i.wU);return(0,n.jsx)(r,{value:t,children:e})}},432242:(e,t,s)=>{s.d(t,{B:()=>h,Z:()=>l});let i="gmail.com",o="yahoo.com",a="hotmail.com",n="icloud.com",r={AR:[i,a,"yahoo.com.ar"],AU:[i,a,"bigpond.com"],BR:[i,a,"yahoo.com.br"],CA:[i,a,o],DE:[i,"web.de","gmx.de"],ES:[i,a,"hotmail.es"],FR:[i,"hotmail.fr","orange.fr"],GB:[i,"hotmail.co.uk","hotmail.com"],IN:[i,o,"rediffmail.com"],IT:[i,"libero.it","hotmail.it"],JP:[i,"yahoo.co.jp","ezweb.ne.jp"],MX:[i,a,"outlook.com"],US:[i,a,o],KR:[i,"naver.com","hanmail.net","nate.com","daum.net"],ID:[i,o,"yahoo.co.id","ymail.com","rocketmail.com"],PH:[i,o,"yahoo.com.ph",n,"ymail.com"],TH:[i,a,"hotmail.co.th",o,n],VN:[i,o,"yahoo.com.vn",n,a],DEFAULT:[i,a,o]};function l(e){return e&&e.toUpperCase() in r?r[e.toUpperCase()]:r.DEFAULT}function h(e){let[t,s]=e.split("@"),i="",o=t.length;return i=o>3?t.substring(0,3)+t.substring(3,o).replace(/\w/g,"*"):t.replace(/\w/g,"*"),`${i}@${s}`}},942397:(e,t,s)=>{function i(e){return!!e?.is_matured_new_user}s.d(t,{IR:()=>n,V0:()=>i,Wn:()=>a,xT:()=>o});let o=e=>!!e&&2===e.login_state,a=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function n(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},744284:(e,t,s)=>{s.d(t,{Z:()=>c});var i=s(883119),o=s(5859),a=s(194602),n=s(490166),r=s(432242),l=s(785893);let h={border:"1px solid rgb(181, 181, 181)",zIndex:1};function c({email:e,emailFieldElement:t,handleEmailSuggestionClick:s,showUsername:c}){let{country:d}=(0,o.B)(),u=(0,r.Z)(d),{width:m,top:g}=(e=>{if((0,a.Z)())return{width:void 0,top:void 0};if(!e)return{width:window.innerWidth-32,top:void 0};let{width:t,y:s,height:i}=e.getBoundingClientRect();return{width:t,top:s+i}})(t);return(0,l.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...h,top:g}},direction:"column",display:"flex",position:"absolute",width:m,children:u.map(t=>{let o=c?e.concat(t):t;return(0,l.jsx)(i.xu,{children:(0,l.jsx)("div",{onMouseDown:()=>{s(e.concat(t))},role:"button",tabIndex:0,children:(0,l.jsx)(n.Z,{pressState:"none",children:(0,l.jsx)(i.xu,{paddingX:3,paddingY:2,children:(0,l.jsx)(i.xv,{children:o})})})})},o)})})}},226514:(e,t,s)=>{s.d(t,{Z:()=>eo});var i=s(667294),o=s(545007),a=s(616550),n=s(883119),r=s(587703),l=s(920434),h=s(578984),c=s(915978),d=s(372085),u=s(205841),m=s(454514),g=s(140017),p=s(339001),_=s(739670),b=s(486587),f=s(96452),v=s(602377),w=s(516256),x=s(345276),y=s(657376),P=s(5859),E=s(191313),S=s(217058),k=s(468653),j=s(13848),C=s(624797),A=s(194602),z=s(747602),T=s(874143),L=s(407996),F=s(942397),I=s(908738),O=s(909058),B=s(340523),Z=s(623409),U=s(554786),R=s(744284),H=s(785893);function M(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class D extends i.PureComponent{constructor(...e){super(...e),M(this,"state",{emailFieldElement:null,shouldShowEmailSuggestion:!1}),M(this,"handleChangeEmail",({value:e})=>{let{handleChangeEmail:t}=this.props;if(this.state.shouldShowEmailSuggestion)this.setState({shouldShowEmailSuggestion:!1});else if(e.endsWith("@")){let e=this.emailInputRef;this.setState({shouldShowEmailSuggestion:!0,emailFieldElement:e})}t&&t({value:e})}),M(this,"handlePasswordFocus",()=>{(0,S.NC)("focus_password")}),M(this,"handleEmailSuggestionClick",e=>{let{trackInteraction:t}=this.props;t&&t({action:"click",item:"email-suggestions",within:"login-page"}),this.setState({shouldShowEmailSuggestion:!1}),this.handleChangeEmail({value:e})}),M(this,"passwordReset",e=>{(0,S.NC)("click_forget_password"),this.props.handlePasswordReset&&this.props.handlePasswordReset(e)}),M(this,"handleLoginClick",()=>{(0,S.EX)({event:"start",provider:"email"}),(0,S.NC)("press_login_continue"),this.props.onLoginClick&&this.props.onLoginClick()}),M(this,"handleSignupClick",()=>{let{onSignUpClick:e}=this.props;e&&e()})}componentDidMount(){this.handleChangeEmail({value:this.props.email})}render(){let{email:e,handleChangePassword:t,hideEmailField:s,hideLoginBtn:o,hidePasswordField:a,i18n:r,passwordValidationError:l,emailValidationError:h,emailLoginOnlyForRecoverAccount:c,validateEmailOnBlur:d,validatePasswordOnBlur:u,isSIWAError:m,isValid:g,isSsoFlow:p,onSubmit:_,password:b,shouldShowSignUpButton:f,showEmailAsText:v,checkExperiment:w,onForgetPasswordForFacebookRecover:x}=this.props,{emailFieldElement:y,shouldShowEmailSuggestion:P}=this.state,E=m&&l,S="enabled_copy"===w("mweb_unauth_remove_fb_login_button").group,k=r._('Log in', 'Label for log in button', 'Label for log in button'),j=!a;return p&&(k=r._('Continue with SSO', 'login.sso.continue_button.text', 'Label for continue with SSO button'),j=!1),(0,H.jsx)(n.xu,{marginBottom:3,marginTop:3,children:(0,H.jsxs)("form",{autoCapitalize:"none",autoCorrect:"off",onSubmit:_,children:[!s&&v&&(0,H.jsx)(n.xu,{marginBottom:5,children:(0,H.jsx)(n.xv,{align:"center",children:e})}),!s&&!v&&(0,H.jsxs)(i.Fragment,{children:[P?(0,H.jsx)(R.Z,{email:e,emailFieldElement:y,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null,(0,H.jsx)(n.xu,{marginTop:1,children:(0,H.jsx)(n.nv,{ref:e=>{this.emailInputRef=e},errorMessage:h,id:"email",onBlur:d,onChange:this.handleChangeEmail,placeholder:r._('Email', 'Prompt for user to enter in email on the mobile web login page', 'Prompt for user to enter in email on the mobile web login page'),size:"lg",type:"email",value:e})})]}),j?(0,H.jsxs)(n.xu,{children:[(0,H.jsx)(n.xu,{marginTop:2,position:"relative",children:(0,H.jsx)(n.nv,{autoComplete:"on",errorMessage:l,id:"password",onBlur:u,onChange:t,onFocus:this.handlePasswordFocus,placeholder:r._('Password', 'Prompt for user to enter in password on the mobile web login page', 'Prompt for user to enter in password on the mobile web login page'),size:"lg",type:"password",value:b})}),c?(0,H.jsx)(n.xu,{"data-test-id":"reset-password",marginTop:2,children:(0,H.jsx)(n.iP,{onTap:()=>{x?.(this.props.email)},children:(0,H.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:r._('Forgot your password', 'pass_word_reset_page.fb_multi_auth_login.send_forgot_password_email', 'Link for fb multi-auth user to reset their email if they are eligible for email password sign-in')})})}):(0,H.jsx)(n.xu,{"data-test-id":"reset-password",marginTop:2,children:(0,H.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:(0,H.jsxs)(n.rU,{display:"inlineBlock",href:"/password/reset",onClick:({event:e})=>this.passwordReset(e),tapStyle:"none",underline:"hover",children:[!S&&(E?r._('Reset your password', 'Heading displayed when email is entered on the password reset page', 'Heading displayed when email is entered on the password reset page'):r._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')),S&&r._('Can\'t get into your account?', 'account_recovery_page.link', 'Link to the account recovery page')]})})})]}):null,f&&(0,H.jsx)(n.xu,{marginTop:3,children:(0,H.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:this.handleSignupClick,text:r._('Sign up with this email', 'Label for sign up button', 'Label for sign up button'),type:"submit"})}),!o&&(0,H.jsx)(n.xu,{"data-test-id":"log-in-button",marginTop:4,children:(0,H.jsx)(O.Z,{color:"red",disabled:!g||f,fullWidth:!0,onClick:this.handleLoginClick,size:"md",text:k,type:"submit"},!g||f?"disabled":"enabled")})]})})}}let V=function(e){let t=(0,g.ZP)(),s=(0,U.ml)(),{checkExperiment:i}=(0,B.F)(),o=(0,Z.Z)(),a=(0,r.Z)();return(0,H.jsx)(D,{...e,checkExperiment:i,i18n:t,isPhoneDevice:s,logContextEvent:a,trackInteraction:o})};var W=s(323721),N=s(340370);let Y=function({href:e,state:t,onClick:s,children:i}){let{state:o}=(0,a.TH)(),r=(0,N.Z)({href:{pathname:e,state:{...o,...t}}});return(0,H.jsx)(n.rU,{href:e,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),s(),r({event:e})},children:i})};var $=s(27460),q=s(386008),J=s(125768),K=s(446570),X=s(717473),G=s(800030);function Q(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let ee=e=>e.state&&e.state.email||"",et=e=>({connectedToFacebook:e.connected_to_facebook,connectedToGoogle:e.connected_to_google||!!e.gplus_url,email:e.email,firstName:e.first_name,hasPassword:e.has_password,avatarSrc:e.image_medium_url||e.medium_image_url||""}),es=e=>{let t=new T.dD;if(t.isEligible()){let e=t.getOfferId();return`/business/offer/${e}`}return(0,C.mB)(e.search).next||e.state&&e.state.next||"/"};class ei extends i.PureComponent{constructor(...e){super(...e),Q(this,"state",{apiErrorCode:0,email:ee(this.props.location),isLoading:!1,isValid:!1,isSsoFlow:!1,password:"",recaptchaV3Token:"default",emailValidationError:"",passwordValidationError:"",optOutFromPersonalizedForm:!1,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,showLoginRateLimitedModal:!1,shouldHideFBButtonForSignup:!1,isSsoEmail:!1,exchangeCodeToTokenUrl:"",existingUserSso:!1,existingUserIsSso:!1,ssoAuthorizationUri:""}),Q(this,"clearPersonalizedLoginFromEmail",e=>{let{history:t,location:s}=this.props;if(s.state&&s.state.userInfo){let{userInfo:i,...o}=s.state;t.replace({pathname:e?"/":"/login",state:o})}}),Q(this,"onLoginClick",()=>{this.trackButtonTap(30)}),Q(this,"onSignUpClick",()=>{let{history:e,location:t,isAppFactoryOAuth:s,attributionLabel:i,trackConversionUpsell:o}=this.props;this.trackButtonTap(31),o({eventType:14688,component:14215,upsellReason:i,incrementUpsellReasonCounter:!1}),e.push({pathname:"/signup/step1/",state:{email:this.state.email,password:this.state.password,isSignUpFromLoginError:!0,...t.state,isAppFactoryOAuth:s,attributionLabel:i}})}),Q(this,"trackButtonTap",e=>{let{isAuthenticated:t,isLimitedLoginUser:s,logContextEvent:i,trackConversionUpsell:o}=this.props;i({view_type:9,element:e,event_type:102,aux_data:{...t?{login_state:s?v.Z.LIMITED:v.Z.DEFAULT}:{}}}),o({eventType:14689,element:e})}),Q(this,"handleNotYouClick",()=>{this.clearPersonalizedLoginFromEmail(),this.trackButtonTap(10879),this.setState({email:"",optOutFromPersonalizedForm:!0}),(0,S.NC)("click_change_signin_account")}),Q(this,"handleNoAccountClick",()=>{let{attributionLabel:e,trackConversionUpsell:t}=this.props;this.clearPersonalizedLoginFromEmail(!0),this.trackButtonTap(10880),t({eventType:14688,component:14215,upsellReason:e,incrementUpsellReasonCounter:!1,viewType:10,viewParameter:47}),(0,S.NC)("click_toggle_signup")}),Q(this,"handlePasswordReset",()=>{let{history:e,logContextEvent:t,attributionLabel:s}=this.props,{email:i}=this.state;this.trackButtonTap(10881);let o=(0,z.a3)(i,this.emailValidators());i&&!o&&(t({event_type:51,view_type:9,view_parameter:63}),(0,d.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i}}).then(()=>{e.replace({pathname:"/password/reset/sent/",state:{destinationEmail:i,fromLogin:!0,attributionLabel:s}}),this.setState({apiErrorCode:0})}))}),Q(this,"validateEmail",async({showTooltip:e})=>{let{email:t}=this.state,s=(0,z.a3)(t,this.emailValidators()),i=!s&&!this.state.passwordValidationError;i&&this.checkIfUserIsSso({}),e||i?this.setState({emailValidationError:s,isValid:i}):this.setState({isValid:i})}),Q(this,"checkIfUserIsSso",async({hasInitialEmail:e})=>{let{email:t,isValid:s}=this.state,{verifySsoUser:i}=this.props,{isSso:o,existingUser:a,existingUserIsSso:n,authorizationUri:r,exchangeCodeToTokenUrl:l}=await i(t),h=!!(o&&(!a||n));this.setState({exchangeCodeToTokenUrl:l??"",isSsoEmail:o,isSsoFlow:h,existingUserSso:!!a,existingUserIsSso:!!n,ssoAuthorizationUri:r??"",isValid:!!h&&!!e||s})}),Q(this,"debouncedCheckIfSsoUser",(0,l.Z)(async()=>{let{email:e}=this.state;(0,z.a3)(e,this.emailValidators())||this.checkIfUserIsSso({hasInitialEmail:!1})},300)),Q(this,"validatePassword",e=>{let{password:t}=this.state,s=(0,z.a3)(t,[(0,z.aH)({message:this.props.i18n._('The password you entered is incorrect.', 'Password validation error', 'Password validation error')})]),i=!s&&!this.state.emailValidationError;e||i?this.setState({passwordValidationError:s,isValid:i}):this.setState({isValid:i})}),Q(this,"validateEmailOnBlur",()=>{setTimeout(()=>{this.validateEmail({showTooltip:!0})},0)}),Q(this,"validatePasswordOnBlur",()=>{let{password:e}=this.state;e&&setTimeout(()=>{this.validatePassword(!0)},0)}),Q(this,"emailValidators",()=>[(0,z.GT)({message:this.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')}),(0,z.aH)({message:this.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')})]),Q(this,"getSoftBannedErrorMsg",()=>{let{i18n:e}=this.props;return(0,p.nk)(e._('We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.', 'duplo.loginForm.softBanned.errorMessage', 'Error message when user is soft banned, resetPasswordLink: link to reset password flow with text \'Reset your password\''),{resetPasswordLink:(0,H.jsx)(n.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:(0,H.jsx)(n.rU,{display:"inlineBlock",href:"/password/reset",onClick:this.handlePasswordReset,tapStyle:"none",underline:"hover",children:e._('Reset your password', 'duplo.loginForm.SoftBanned.passwordReset', 'Link text for password reset')})},"err_text")})}),Q(this,"handleChangeEmail",({value:e})=>{this.setState({email:e,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,isSsoEmail:!1,isSsoFlow:!1},()=>{this.validateEmail({}),this.debouncedCheckIfSsoUser()})}),Q(this,"handleChangePassword",({value:e})=>this.setState({password:e,hasKeychainErrorShown:!0},this.validatePassword)),Q(this,"handleLoginFailure",e=>{let{showToast:t}=this.props,{email:s}=this.state,i=e.api_error_code===f.yV||e.api_error_code===f.$j,o=e.api_error_code===f.oP?{passwordValidationError:e.message}:e.message?{passwordValidationError:e.message}:{};i?o={passwordValidationError:this.getSoftBannedErrorMsg()}:e.api_error_code===f.nY&&e.message?(t(({hideToast:t})=>(0,H.jsx)(m.ZP,{onHide:t,text:e.message||""})),o={}):e.api_error_code===f.hU?o=s?{emailValidationError:e.message,shouldShowSignUpButton:!0}:{emailValidationError:e.message}:f.ik.includes(e.api_error_code)&&(o={emailValidationError:"",showLoginRateLimitedModal:!0}),this.setState({isLoading:!1,apiErrorCode:e.api_error_code||0,...o}),(0,y.rY)(e=>this.setState({recaptchaV3Token:e}),()=>{},y.xW)}),Q(this,"handleLogin",e=>{e&&e.preventDefault();let{history:t,location:s,login:i,showToast:o,isAuthenticated:a,isLimitedLoginUser:n,isSwitchAccount:r,noImmediateRedirect:l,attributionLabel:h}=this.props,{email:c,password:d,recaptchaV3Token:u}=this.state,{authenticateWithSso:g}=this.props,{isSsoEmail:p,exchangeCodeToTokenUrl:_,existingUserSso:b,existingUserIsSso:f,ssoAuthorizationUri:x}=this.state;if(p){if(b){if(f){this.trackButtonTap(14367),g({callbacks:{success:e=>{let{authCode:o}=e;c&&o&&i({sso_user_email:c,sso_auth_code:o},t,es(s),{isSwitchAccount:r,recaptchaV3Token:u,noImmediateRedirect:l},{event_type:7534,view_type:9,view_parameter:63,aux_data:{...a?{login_state:n?v.Z.LIMITED:v.Z.DEFAULT}:{},signup_login_method:w.Z.SSO,upsell_reason:h}}).catch(e=>{(0,S.My)("unauth.mweb.login.sso.login.error",{code:e.api_error_code,message:e.message}),this.handleLoginFailure(e)})},error:e=>{(0,S.My)("unauth.mweb.login.sso.autheticateWithSso.error",{code:e.api_error_code,message:e.message}),this.setState({isLoading:!1}),e.message&&o(({hideToast:t})=>(0,H.jsx)(m.ZP,{onHide:t,text:e.message||""}))}},exchangeCodeToTokenUrl:_,isLogin:!0,modalUrl:x??""});return}}else{t.push({pathname:"/signup/step1/",state:{email:this.state.email,isSignUpFromLoginError:!1,...s.state,attributionLabel:h}});return}}i({username_or_email:c,password:d},t,es(s),{isSwitchAccount:r,recaptchaV3Token:u,noImmediateRedirect:l},{event_type:7534,view_type:9,view_parameter:63,aux_data:{...a?{login_state:n?v.Z.LIMITED:v.Z.DEFAULT}:{},signup_login_method:w.Z.EMAIL,upsell_reason:h}}).catch(e=>this.handleLoginFailure(e)),this.setState({isLoading:!0})}),Q(this,"handleLoginTouch",e=>{"Facebook"===e?(0,S.My)("unauth_mweb.facebook_connect.manual.attempt"):"Google"===e&&(0,S.My)("unauth_mweb.google_connect.manual.attempt")}),Q(this,"handleDisableFBSignup",()=>{(0,S.My)("remove_fb_signup.mweb_login_form"),this.setState({shouldHideFBButtonForSignup:!0}),this.props.history.push({pathname:"/login/"})}),Q(this,"renderPersonalizedLogin",e=>{let{isAppFactoryOAuth:t,location:s,noImmediateRedirect:o,attributionLabel:a,checkExperiment:r,emailLoginOnlyForRecoverAccount:l,onForgetPasswordForFacebookRecover:h,lookedupEmail:c}=this.props,{emailValidationError:d,passwordValidationError:m,isSsoFlow:g,isValid:_,password:b,shouldShowSignUpButton:f}=this.state,{connectedToFacebook:v,connectedToGoogle:w,email:x,firstName:y,hasPassword:P,avatarSrc:E}=et(e),S=!!s.state&&!!s.state.userInfo,k=!P&&!v&&!w,j=P||k,C=v||k,A=w||k,z=j&&(C||A),T=y?(0,p.nk)(this.props.i18n._('Welcome back, {{name}}!', 'Heading on personalized login page, followed by user\'s name', 'Heading on personalized login page, followed by user\'s name'),{name:y}):this.props.i18n._('Welcome back!', 'Welcome message on user login page', 'Welcome message on user login page');return(0,H.jsxs)(i.Fragment,{children:[S&&(0,H.jsx)(J.Z,{}),(0,H.jsxs)(i.Fragment,{children:[(0,H.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:j?-3:5,marginTop:5,children:[(0,H.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:(0,H.jsx)(n.X6,{accessibilityLevel:1,overflow:"normal",size:"400",children:T})}),(0,H.jsx)(n.xu,{marginBottom:3,marginTop:3,children:(0,H.jsx)(u.qE,{name:y||"",size:"lg",src:E})}),!j&&(0,H.jsx)(n.xu,{children:(0,H.jsx)(n.xv,{align:"center",children:x})})]}),(0,H.jsxs)(n.xu,{marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[j&&(0,H.jsx)(V,{email:(x??"")||(c??""),emailLoginOnlyForRecoverAccount:l,emailValidationError:d,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,hideEmailField:!1,isSsoFlow:g,isValid:_,onForgetPasswordForFacebookRecover:h,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:b,passwordValidationError:m,shouldShowSignUpButton:f,showEmailAsText:!0,validateEmailOnBlur:this.validateEmailOnBlur,validatePasswordOnBlur:this.validatePasswordOnBlur}),z&&(0,H.jsx)(n.xu,{marginBottom:3,marginTop:3,children:(0,H.jsx)(n.xv,{align:"center",size:"100",weight:"bold",children:this.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,H.jsx)(X.Z,{attributionLabel:a,disableFBSignup:r("mweb_unauth_remove_fb_signup_iteration").anyEnabled?this.handleDisableFBSignup:void 0,facebook:!r("mweb_unauth_fb_login_account_recovery_flow").anyEnabled&&!r("mweb_unauth_remove_fb_login_button").anyEnabled&&(r("mweb_unauth_remove_fb_signup_iteration").anyEnabled?!this.state.shouldHideFBButtonForSignup:C),google:A,line:k,next:es(s),noImmediateRedirect:o,onFacebookTouch:()=>this.handleLoginTouch("Facebook")})]})]}),(0,H.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,H.jsxs)(n.xu,{alignItems:"start","data-test-id":"login-switch-account",direction:"row",display:"flex",justifyContent:"center",wrap:!0,children:[(0,H.jsx)(n.xu,{marginEnd:1,children:(0,H.jsx)(n.xv,{align:"center",inline:!0,children:this.props.i18n._('Not you?', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})}),(0,H.jsx)(n.xv,{color:"default",inline:!0,weight:"bold",children:(0,H.jsx)(Y,{href:`/login/${s.search||""}`,onClick:this.handleNotYouClick,children:this.props.i18n._('Log in with a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})})]}),(0,H.jsxs)(n.xu,{display:"flex",justifyContent:"center",marginTop:4,children:[(0,H.jsx)(n.xu,{"data-test-id":"signup-modal-personalized",marginEnd:1,children:(0,H.jsx)(n.xv,{children:this.props.i18n._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,H.jsx)(n.xv,{color:"default",weight:"bold",children:(0,H.jsx)(Y,{href:"/signup/step1/",onClick:this.handleNoAccountClick,state:{...s.state,isAppFactoryOAuth:t,attributionLabel:a},children:this.props.i18n._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]})]})]})}),Q(this,"renderLoginButtons",e=>{let{isAppFactoryOAuth:t,isBeforeHydration:s,location:i,noImmediateRedirect:o,attributionLabel:a,checkExperiment:r}=this.props,l=!s&&!!(0,E.qn)(I.u),h=r("mweb_unauth_remove_fb_login_button").anyEnabled,c=r("mweb_unauth_fb_login_account_recovery_flow").anyEnabled,d=(0,H.jsx)(X.Z,{apple:l||t,attributionLabel:a,disableFBSignup:r("mweb_unauth_remove_fb_signup_iteration").anyEnabled?this.handleDisableFBSignup:void 0,facebook:!h&&!c&&(!r("mweb_unauth_remove_fb_signup_iteration").anyEnabled||!this.state.shouldHideFBButtonForSignup),google:!0,line:!0,next:es(i),noImmediateRedirect:o,onFacebookTouch:()=>this.handleLoginTouch("Facebook")}),u=(0,H.jsx)(n.xu,{marginBottom:e?2:0,marginTop:e?0:2,children:(0,H.jsx)(n.xv,{align:"center",size:"200",weight:"bold",children:this.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})});return e?(0,H.jsxs)(n.xu,{children:[u,d]}):(0,H.jsxs)(n.xu,{children:[d,u]})})}componentDidMount(){let{history:e,location:t,showToast:s}=this.props;if(t.state&&t.state.shouldShowAccountExistsToast&&(s(({hideToast:e})=>(0,H.jsx)(m.ZP,{onHide:e,text:this.props.i18n._('Looks like you already have a Pinterest account. Please log in.', 'Toast showing that a user already has a Pinterest account and can login normally', 'Toast showing that a user already has a Pinterest account and can login normally')})),t.state)){let{shouldShowAccountExistsToast:s,...i}=t.state;e.replace("/login/",i)}(0,C.mB)(t.search).message===_.R&&s(({hideToast:e})=>(0,H.jsx)(m.ZP,{duration:_.Jl,onHide:e,text:(0,b.Z)(this.props.i18n,t)}));let i=()=>{(0,y.rY)(e=>this.setState({recaptchaV3Token:e}),()=>{},y.xW)};if(i(),setInterval(i,y.yc),t.state&&t.state.keychainiOSAutologinError){let e=t.state.keychainiOSAutologinError,s=e.code,i=s===f.hU?{emailValidationError:e.message}:{passwordValidationError:e.message};this.setState({apiErrorCode:s,hasKeychainErrorShown:!1,...i})}t.state?.userInfo?.email&&this.checkIfUserIsSso({hasInitialEmail:!0})}static getDerivedStateFromProps(e,t){let{isAuthenticated:s,isLimitedLoginUser:i,location:o,loggedOutUserInfo:a,viewingUser:n}=e;return o.state&&o.state.userInfo?{email:o.state.userInfo.email}:s||!a||t.optOutFromPersonalizedForm?i&&n&&!t.optOutFromPersonalizedForm?{email:n.email}:null:{email:a.email}}render(){let{isLimitedLoginUser:e,location:t,loggedOutUserInfo:s,isAppFactoryOAuth:o,viewingUser:a,showPLPBanner:r,plpBannerPin:l,i18n:d,showKeychainError:u,attributionLabel:m,checkExperiment:g,emailLoginOnlyForRecoverAccount:p,onForgetPasswordForFacebookRecover:_,lookedupEmail:b}=this.props,v=t.state&&t.state.shouldShowLoginBelow||!1,{apiErrorCode:w,email:x,emailValidationError:y,passwordValidationError:P,isLoading:E,isSsoFlow:S,isValid:k,optOutFromPersonalizedForm:j,password:A,shouldShowSignUpButton:z,hasKeychainErrorShown:T,showLoginRateLimitedModal:F}=this.state,I=e?a:s;t.state&&t.state.userInfo&&(I=t.state.userInfo);let O=this.state.shouldHideFBButtonForSignup&&g("mweb_unauth_remove_fb_signup_iteration").group.endsWith("no_plp_banner"),B=g("mweb_unauth_fb_login_account_recovery_flow").anyEnabled,Z=w>0&&w===f.nf,U=(0,H.jsxs)(i.Fragment,{children:[(0,H.jsxs)(n.xu,{"data-test-id":"duplo-login-form",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[!v&&!p&&this.renderLoginButtons(v),(0,H.jsx)(V,{email:x||(b??""),emailLoginOnlyForRecoverAccount:p??!1,emailValidationError:y,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isSIWAError:Z,isSsoFlow:S,isValid:k,onForgetPasswordForFacebookRecover:_,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:A,passwordValidationError:P,shouldShowSignUpButton:z,validateEmailOnBlur:this.validateEmailOnBlur,validatePasswordOnBlur:this.validatePasswordOnBlur}),v&&!p&&this.renderLoginButtons(v)]}),!p&&(0,H.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,H.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,H.jsx)(n.xu,{"data-test-id":"signup-link",marginEnd:1,children:(0,H.jsx)(n.xv,{children:d._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,H.jsx)(n.xv,{color:"default",weight:"bold",children:(0,H.jsx)(Y,{href:"/signup/step1/",onClick:this.handleNoAccountClick,state:{email:x,isAppFactoryOAuth:o,next:(0,C.mB)(t.search).next,attributionLabel:m},children:d._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]}),!o&&(0,H.jsx)(K.Z,{})]})]});return u?(0,H.jsxs)(i.Fragment,{children:[(0,H.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(230, 0, 35, 0.08)",transition:"transform 400ms ease-in-out",transform:T?"translateY(-120%)":"translateY(0%)"}},display:"flex",height:52,justifyContent:"center",children:[(0,H.jsx)(n.qb,{accessibilityLabel:d._('Workflow status problem accessibility label', 'mweb.unauth.keychain_autologin.login_page.error_message.icon', 'Accessibility label for error message icon'),type:"problem"}),(0,H.jsx)(n.xu,{marginStart:2,children:(0,H.jsx)(n.xv,{color:"default",children:d._('Oops! We couldn\'t log you in', 'mweb.unauth.keychain_autologin.login_page.error_message', 'Error message to let user know there was an issue logging them in')})})]}),(0,H.jsxs)(n.xu,{paddingX:r?4:0,children:[I&&!j?this.renderPersonalizedLogin(I):U,E&&(0,H.jsx)(L.Z,{})]})]}):(0,H.jsxs)(i.Fragment,{children:[F&&(0,H.jsx)(W.Z,{onDismiss:()=>this.setState({showLoginRateLimitedModal:!1})}),this.state.shouldHideFBButtonForSignup&&(0,H.jsx)(c.Z,{}),!p&&B&&(0,H.jsx)(h.Z,{}),r&&l&&!O&&(0,H.jsx)(G.Z,{pin:l}),(0,H.jsxs)(n.xu,{paddingX:r?4:0,children:[I&&!j?this.renderPersonalizedLogin(I):U,E&&(0,H.jsx)(L.Z,{})]})]})}}function eo(e){let t=(0,g.ZP)(),s=(0,a.k6)(),i=(0,a.TH)(),n=(0,o.I0)(),l=(0,$.f)(),{showToast:h}=(0,j.F9)(),{isAuthenticated:c,loggedOutUserInfo:d}=(0,o.v9)(e=>e.session),u=(0,q.Tt)(),m=(0,r.Z)(),p=(0,A.Z)(),{trackConversionUpsell:_}=(0,k.Z)(),b=(0,P.B)(),{authenticateWithSso:f,verifySsoUser:v}=(0,x.Z)();return(0,H.jsx)(ei,{...e,attributionLabel:i.state?.attributionLabel,authenticateWithSso:f,dispatch:n,history:s,i18n:t,isAuthenticated:c,isBeforeHydration:p,isLimitedLoginUser:(0,F.xT)(u),location:i,logContextEvent:m,loggedOutUserInfo:d,login:l,requestContext:b,showToast:h,trackConversionUpsell:_,verifySsoUser:v,viewingUser:u})}},800030:(e,t,s)=>{s.d(t,{Z:()=>m});var i=s(545007),o=s(616550),a=s(140017),n=s(391884),r=s(5859),l=s(19447),h=s(667294),c=s(883119),d=s(785893);let u=function({pin:{image:e,pinDescription:t,dominantColor:s,bannerCopy:i}}){return(0,d.jsx)(h.Fragment,{children:(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",margin:4,children:[(0,d.jsx)(c.xu,{height:40,margin:4,width:30,children:(0,d.jsx)(c.zd,{height:"100%",rounding:2,width:"100%",children:(0,d.jsx)(c.Ee,{alt:t||"",color:s||"",fit:"cover",naturalHeight:(e||{}).height||1,naturalWidth:(e||{}).width||1,src:(e||{}).url??""})})}),(0,d.jsx)(c.xv,{children:i})]})})},m=function({pin:e}){let t=(0,a.ZP)(),s=(0,i.v9)(({session:e})=>e&&e.unauthSavePinId),h=(0,l.S6)()(s??""),{isBot:c,isSocialBot:m}=(0,r.B)(),g=(0,o.TH)();if(!e&&!s)return null;let p=g.pathname.startsWith("/signup");if(!(g.pathname.startsWith("/login")||p))return null;if(h){let e=g.pathname.startsWith("/signup"),s={url:(0,n.Z)({imagesUrls:h.images?Object.keys(h.images).reduce((e,t)=>t&&h.images?.[t]?.url?{...e,[t]:h.images[t].url}:e,{}):void 0,embedSrc:h.embed?.src,embedType:h.embed?.type,excludeOriginals:!c&&!m}),height:1,width:1},i=h.description||"",o=h.dominant_color||"",a=e?t._('Finish signing up to save this idea', 'mweb.unauth.save.flow.signup.banner', 'Sign up banner shown in signup page after user attempting to save the pin'):t._('Finish logging in to save this idea', 'mweb.unauth.save.flow.login.banner', 'Login banner shown in login page after user attempting to save the pin');return(0,d.jsx)(u,{pin:{image:s,pinDescription:i,dominantColor:o,bannerCopy:a}})}return e?(0,d.jsx)(u,{pin:e}):null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90818-75ad6ecb14403c49.mjs.map